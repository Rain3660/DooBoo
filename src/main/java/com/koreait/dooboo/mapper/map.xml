<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.koreait.dooboo.map.dao.MapDAO">	
	<insert id="insertLocation">
		INSERT INTO MAP
		VALUES(MAP_SEQ.NEXTVAL,#{memberNo},#{location})
	</insert>
	
	<select id="getMapNo" resultType="long">
		SELECT MAP_NO
		  FROM MAP
		 WHERE MEMBER_NO = #{memberNo} AND LOCATION = #{location}
	</select>
	
	<insert id="CheckLocation">
		INSERT INTO MAPLOCATIONCHECK
		VALUES(#{mapNo},#{result})
	</insert>
	
	<select id="getLocation" parameterType="long" resultType="com.koreait.dooboo.map.dto.MapDTO">
		SELECT * 
		  FROM MAP
		 WHERE MEMBER_NO = #{loginUserNo}
	</select>
	
	<select id="isChecked" resultType="int">
		SELECT RESULT
		  FROM MAPLOCATIONCHECK
		 WHERE MAP_NO = #{mapNo}
	</select>
</mapper>